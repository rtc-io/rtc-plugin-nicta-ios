!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),(n.RTC||(n.RTC={})).IOS=e()}}(function(){return function e(n,t,o){function i(a,d){if(!t[a]){if(!n[a]){var c="function"==typeof require&&require;if(!d&&c)return c(a,!0);if(r)return r(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=t[a]={exports:{}};n[a][0].call(f.exports,function(e){var t=n[a][1][e];return i(t?t:e)},f,f.exports,e,n,t,o)}return t[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,n,t){"use strict";var o=e("objectfit"),i=e("fdom/raf"),r=/\(iOS\;.*Mobile\/NICTA/,a=!1,d=!1;t.supported=function(){return"undefined"!=typeof navigator&&r.test(navigator.userAgent)};t.init=function(e,n){function t(){var e;return d?n():(document.removeEventListener("deviceready",t),e=window.console.log,window.console.log=function(){var n=[].slice.call(arguments).join(" ");try{NativeLog(n)}catch(e){alert(n)}e.apply(window.console,arguments)},"function"==typeof getUserMedia&&(navigator.getUserMedia=function(e,n,t){getUserMedia(e,n,t)}),d=!0,console.log("iOS plugin initialized, getUserMedia available = "+!!navigator.getUserMedia),void n())}return(a=a||"undefined"!=typeof getPeerConnection)?setTimeout(t,10):void document.addEventListener("deviceready",t)};t.attach=function(e,n){function t(e){var n=Date.now();p&&v+p>n||(u=new Image,u.onload=function(){i(a)},u.src=e)}function r(){var e=f.getBoundingClientRect(),n=window.getComputedStyle(f),t=o[n.objectFit]||o.contain;f.width=e.width,f.height=e.height,d=t([0,0,e.width,e.height]),a()}function a(){u&&(s.drawImage.apply(s,[u].concat(d([0,0,u.width,u.height]))),v=Date.now())}var d,u,f=c(n,(n||{}).el||(n||{}).target),s=f.getContext("2d"),l=parseInt((n||{}).maxfps,10)||0,p=l&&1e3/l,v=0;return window.addEventListener("resize",r,!1),window.addEventListener("load",r,!1),iOSRTC_onDrawRegi(e,t),setTimeout(r,10),f};var c=t.prepareElement=function(e,n){var t=n instanceof HTMLVideoElement||n instanceof HTMLAudioElement,o=document.createElement("canvas"),i=t?n.parentNode:n;return console.log("preparing element, created canvas"),t&&n.parentNode?(o.className=n.className,console.log("inserting canvas"),i.insertBefore(o,n),i.removeChild(n)):i&&i.appendChild(o),o};t.createIceCandidate=function(e){return console.log("creating ice candidate, keys: "+Object.keys(e).join(" ")),getRTCIceCandidate({sdpMLineIndex:(e||{}).sdpMLineIndex,candidate:(e||{}).candidate})},t.createConnection=function(e,n){return getPeerConnection(e,n)},t.createSessionDescription=function(e){return getRTCSessionDescription(e)},"undefined"!=typeof document&&document.addEventListener("deviceready",function(){a=!0})},{"fdom/raf":2,objectfit:5}],2:[function(e,n){"use strict";var t=["r","webkitR","mozR","oR","msR"];n.exports="undefined"!=typeof window&&function(){for(var e=0;e<t.length;e++)window.animFrame=window.animFrame||window[t[e]+"equestAnimationFrame"];return animFrame}()},{}],3:[function(e,n){n.exports=function(e,n){function t(n){var t=n[2],a=n[3],d=t/a,c=[];return r>d?(c[2]=i*d|0,c[3]=i,c[0]=o-c[2]>>1,c[1]=0):(c[2]=o,c[3]=o/d|0,c[0]=0,c[1]=i-c[3]>>1),c[0]+=e[0],c[1]+=e[1],c}var o=e[2],i=e[3],r=o/i;return n?t(n):t}},{}],4:[function(e,n){n.exports=function(e,n){function t(n){var t=n[2],a=n[3],d=t/a,c=[];return r>d?(c[2]=o,c[3]=o/d|0,c[0]=1,c[1]=-(c[3]-i)>>1):(c[2]=i*d|0,c[3]=i,c[0]=-(c[2]-o)>>1,c[1]=0),c[0]+=e[0],c[1]+=e[1],c}var o=e[2],i=e[3],r=o/i;return n?t(n):t}},{}],5:[function(e,n,t){t.contain=e("./contain"),t.cover=e("./cover")},{"./contain":3,"./cover":4}]},{},[1])(1)});
//# sourceMappingURL=rtc.min.js.map