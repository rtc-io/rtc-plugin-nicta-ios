!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),(n.RTC||(n.RTC={})).IOS=e()}}(function(){return function e(n,t,i){function o(a,c){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!c&&d)return d(a,!0);if(r)return r(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=t[a]={exports:{}};n[a][0].call(f.exports,function(e){var t=n[a][1][e];return o(t?t:e)},f,f.exports,e,n,t,i)}return t[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,n,t){"use strict";var i=e("objectfit"),o=/\(iOS\;.*Mobile\/NICTA/,r=!1,a=!1;t.supported=function(){return"undefined"!=typeof navigator&&o.test(navigator.userAgent)};t.init=function(e,n){function t(){var e;return a?n():(document.removeEventListener("deviceready",t),e=window.console.log,window.console.log=function(){var n=[].slice.call(arguments).join(" ");try{NativeLog(n)}catch(e){alert(n)}e.apply(window.console,arguments)},"function"==typeof getUserMedia&&(navigator.getUserMedia=function(e,n,t){getUserMedia(e,n,t)}),a=!0,console.log("iOS plugin initialized, getUserMedia available = "+!!navigator.getUserMedia),void n())}return(r=r||"undefined"!=typeof getPeerConnection)?setTimeout(t,10):void document.addEventListener("deviceready",t)};t.attach=function(e,n){function t(){var e=d.getBoundingClientRect(),n=window.getComputedStyle(d),t=i[n.objectFit]||i.contain;d.width=e.width,d.height=e.height,r=t([0,0,e.width,e.height]),o()}function o(){a&&u.drawImage.apply(u,[a].concat(r([0,0,a.width,a.height])))}var r,a,d=c(n,(n||{}).el||(n||{}).target),u=d.getContext("2d");return e&&e.__orig&&(e=e.__orig),window.addEventListener("resize",t,!1),window.addEventListener("load",t,!1),iOSRTC_onDrawRegi(e,function(e){a=new Image,a.onload=o,a.src=e}),setTimeout(t,10),d};var c=t.prepareElement=function(e,n){var t=n instanceof HTMLVideoElement||n instanceof HTMLAudioElement,i=document.createElement("canvas"),o=t?n.parentNode:n;return console.log("preparing element, created canvas"),t&&n.parentNode?(i.className=n.className,console.log("inserting canvas"),o.insertBefore(i,n),o.removeChild(n)):o&&o.appendChild(i),i};t.createIceCandidate=function(e){return console.log("creating ice candidate, keys: "+Object.keys(e).join(" ")),getRTCIceCandidate({sdpMLineIndex:(e||{}).sdpMLineIndex,candidate:(e||{}).candidate})},t.createConnection=function(e,n){return getPeerConnection(e,n)},t.createSessionDescription=function(e){return getRTCSessionDescription(e)},"undefined"!=typeof document&&document.addEventListener("deviceready",function(){r=!0})},{objectfit:4}],2:[function(e,n){n.exports=function(e,n){function t(n){var t=n[2],a=n[3],c=t/a,d=[];return r>c?(d[2]=o*c|0,d[3]=o,d[0]=i-d[2]>>1,d[1]=0):(d[2]=i,d[3]=i/c|0,d[0]=0,d[1]=o-d[3]>>1),d[0]+=e[0],d[1]+=e[1],d}var i=e[2],o=e[3],r=i/o;return n?t(n):t}},{}],3:[function(e,n){n.exports=function(e,n){function t(n){var t=n[2],a=n[3],c=t/a,d=[];return r>c?(d[2]=i,d[3]=i/c|0,d[0]=1,d[1]=-(d[3]-o)>>1):(d[2]=o*c|0,d[3]=o,d[0]=-(d[2]-i)>>1,d[1]=0),d[0]+=e[0],d[1]+=e[1],d}var i=e[2],o=e[3],r=i/o;return n?t(n):t}},{}],4:[function(e,n,t){t.contain=e("./contain"),t.cover=e("./cover")},{"./contain":2,"./cover":3}]},{},[1])(1)});
//# sourceMappingURL=rtc.min.js.map